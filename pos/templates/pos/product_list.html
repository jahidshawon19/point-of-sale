
{% extends 'pos/base.html' %}
{% load static %}
{% block title %}Category - POS{% endblock %}

{% block content %}
<h2 class="mb-4">Products</h2>

<div class="row">
    <div class="col-lg-4">
        <div class="mb-3">
    <input type="text" id="categorySearch" class="lu-search" placeholder="Search by ID or Name">
</div>
    </div>
    <div class="col-lg-4"></div>
    <div class="col-lg-2"></div>
    <div class="col-lg-2">
        <a href="{% url 'product_create' %}" class="btn btn-success">
               Add New Product
           </a>
    </div>

</div>

<div class="lu-table-wrapper">
    <table class="table lu-table" id="categoryTable">
        <thead>
                <tr>
                    <th>ID</th>
                    
                    <th>Name</th>
                    <th>Image</th>
                    <th>Category</th>
                    <th>Unit Price</th>
                    <th>Stock Quantity</th>
                    <th>Stock Status</th>
                    <th>Created Date</th>
                    <th>Updated Date</th>
                    <th>Created By</th>
                    <th>Updated By</th>
                    <th>Actions</th>
                </tr>
        </thead>
 <tbody>
        {% for product in products %}
        <tr>
            <td>{{ product.id }}</td>

            <td>{{ product.name }}</td>
            <td>
                {% if product.image %}
                <img src="{{ product.image }}" alt="{{ product.name }}" width="50" height="50" style="border-radius:5px;">
                {% else %}
                -
                {% endif %}
            </td>
            <td>{{ product.category.name }}</td>
            <td>${{ product.unitprice }}</td>
            <td>{{ product.stock_quantity }}</td>
            <td>
                {% if product.stock_quantity == 0 %}
                    <span class="badge bg-danger">Out of Stock</span>
                {% elif product.stock_quantity <= 5 %}
                    <span class="badge bg-warning text-dark">Low Stock</span>
                {% else %}
                    <span class="badge bg-success">In Stock</span>
                {% endif %}
            </td>
            <td>{{ product.created_date }}</td>      
            <td>{{ product.updated_date }}</td>      
            <td>{{ product.created_by }}</td>
            <td>{{ product.updated_by }}</td>
            <td>
                <a href="{% url 'product_update' product.id %}" class="btn btn-warning btn-sm">Edit</a>
                <a href="{% url 'product_delete' product.id %}" class="btn btn-danger btn-sm"
                   onclick="return confirm('Are you sure you want to delete this product?');">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="9" class="text-center">No products found.</td></tr>
        {% endfor %}
    </tbody>
    </table>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/category.js' %}"></script>
{% endblock %}
